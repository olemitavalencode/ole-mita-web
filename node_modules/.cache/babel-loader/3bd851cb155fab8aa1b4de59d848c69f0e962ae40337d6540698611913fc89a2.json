{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sistemas\\\\Pictures\\\\nuevo ole mita web+tienda\\\\src\\\\components\\\\ShopHeroSection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport BannerSkeleton from './BannerSkeleton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ShopHeroSection = ({\n  bannerVideos,\n  isLoading\n}) => {\n  _s();\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\n  const [isFading, setIsFading] = useState(false);\n  const [isTransitioning, setIsTransitioning] = useState(false);\n  const videoRef = useRef(null);\n\n  // Transición suave entre videos\n  useEffect(() => {\n    if (!bannerVideos || bannerVideos.length === 0) return;\n    const videoElement = videoRef.current;\n    if (!videoElement) return;\n\n    // Fade in cada vez que el video cambia\n    videoElement.style.transition = 'opacity 0.6s';\n    videoElement.style.opacity = 0;\n    setTimeout(() => {\n      videoElement.style.opacity = 0.7; // O el valor que quieras\n    }, 60);\n\n    // Al terminar el video, inicia fade out y cambio\n    const handleVideoEnd = () => {\n      if (isTransitioning) return; // Previene doble transición\n      setIsTransitioning(true);\n      videoElement.style.opacity = 0; // Empieza fade out\n\n      setTimeout(() => {\n        setCurrentVideoIndex(prevIndex => (prevIndex + 1) % bannerVideos.length);\n        setIsTransitioning(false); // Permite la siguiente transición\n      }, 600); // Debe coincidir con el tiempo de fade out (0.6s)\n    };\n    videoElement.addEventListener('ended', handleVideoEnd);\n    return () => {\n      videoElement.removeEventListener('ended', handleVideoEnd);\n    };\n  }, [currentVideoIndex, bannerVideos, isTransitioning]);\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"relative w-full h-[50vh] md:h-[70vh] lg:h-[80vh] overflow-hidden\",\n    children: isLoading ? /*#__PURE__*/_jsxDEV(BannerSkeleton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this) : bannerVideos && bannerVideos.length > 0 && /*#__PURE__*/_jsxDEV(\"video\", {\n      // Esto fuerza el recambio real de video\n      ref: videoRef,\n      className: \"absolute inset-0 w-full h-full object-cover\",\n      src: bannerVideos[currentVideoIndex],\n      autoPlay: true,\n      muted: true,\n      playsInline: true,\n      style: {\n        opacity: 0.7,\n        transition: 'opacity 0.6s'\n      }\n    }, bannerVideos[currentVideoIndex], false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(ShopHeroSection, \"+zC/AsmxNxPjME5MpazRas36oZk=\");\n_c = ShopHeroSection;\nexport default ShopHeroSection;\nvar _c;\n$RefreshReg$(_c, \"ShopHeroSection\");","map":{"version":3,"names":["React","useState","useEffect","useRef","BannerSkeleton","jsxDEV","_jsxDEV","ShopHeroSection","bannerVideos","isLoading","_s","currentVideoIndex","setCurrentVideoIndex","isFading","setIsFading","isTransitioning","setIsTransitioning","videoRef","length","videoElement","current","style","transition","opacity","setTimeout","handleVideoEnd","prevIndex","addEventListener","removeEventListener","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","src","autoPlay","muted","playsInline","_c","$RefreshReg$"],"sources":["C:/Users/Sistemas/Pictures/nuevo ole mita web+tienda/src/components/ShopHeroSection.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport BannerSkeleton from './BannerSkeleton';\n\nconst ShopHeroSection = ({ bannerVideos, isLoading }) => {\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\n  const [isFading, setIsFading] = useState(false);\n  const [isTransitioning, setIsTransitioning] = useState(false);\n  const videoRef = useRef(null);\n\n  // Transición suave entre videos\n  useEffect(() => {\n    if (!bannerVideos || bannerVideos.length === 0) return;\n\n    const videoElement = videoRef.current;\n    if (!videoElement) return;\n\n    // Fade in cada vez que el video cambia\n    videoElement.style.transition = 'opacity 0.6s';\n    videoElement.style.opacity = 0;\n    setTimeout(() => {\n      videoElement.style.opacity = 0.7; // O el valor que quieras\n    }, 60);\n\n    // Al terminar el video, inicia fade out y cambio\n    const handleVideoEnd = () => {\n      if (isTransitioning) return; // Previene doble transición\n      setIsTransitioning(true);\n      videoElement.style.opacity = 0; // Empieza fade out\n\n      setTimeout(() => {\n        setCurrentVideoIndex((prevIndex) => (prevIndex + 1) % bannerVideos.length);\n        setIsTransitioning(false); // Permite la siguiente transición\n      }, 600); // Debe coincidir con el tiempo de fade out (0.6s)\n    };\n\n    videoElement.addEventListener('ended', handleVideoEnd);\n\n    return () => {\n      videoElement.removeEventListener('ended', handleVideoEnd);\n    };\n  }, [currentVideoIndex, bannerVideos, isTransitioning]);\n\n  return (\n    <section className=\"relative w-full h-[50vh] md:h-[70vh] lg:h-[80vh] overflow-hidden\">\n      {isLoading ? (\n        <BannerSkeleton />\n      ) : (\n        bannerVideos && bannerVideos.length > 0 && (\n          <video\n            key={bannerVideos[currentVideoIndex]} // Esto fuerza el recambio real de video\n            ref={videoRef}\n            className=\"absolute inset-0 w-full h-full object-cover\"\n            src={bannerVideos[currentVideoIndex]}\n            autoPlay\n            muted\n            playsInline\n            style={{ opacity: 0.7, transition: 'opacity 0.6s' }}\n          />\n        )\n      )}\n    </section>\n  );\n};\n\nexport default ShopHeroSection;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,cAAc,MAAM,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,MAAMC,eAAe,GAAGA,CAAC;EAAEC,YAAY;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EACvD,MAAM,CAACC,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC;EAC7D,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACc,eAAe,EAAEC,kBAAkB,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAMgB,QAAQ,GAAGd,MAAM,CAAC,IAAI,CAAC;;EAE7B;EACAD,SAAS,CAAC,MAAM;IACd,IAAI,CAACM,YAAY,IAAIA,YAAY,CAACU,MAAM,KAAK,CAAC,EAAE;IAEhD,MAAMC,YAAY,GAAGF,QAAQ,CAACG,OAAO;IACrC,IAAI,CAACD,YAAY,EAAE;;IAEnB;IACAA,YAAY,CAACE,KAAK,CAACC,UAAU,GAAG,cAAc;IAC9CH,YAAY,CAACE,KAAK,CAACE,OAAO,GAAG,CAAC;IAC9BC,UAAU,CAAC,MAAM;MACfL,YAAY,CAACE,KAAK,CAACE,OAAO,GAAG,GAAG,CAAC,CAAC;IACpC,CAAC,EAAE,EAAE,CAAC;;IAEN;IACA,MAAME,cAAc,GAAGA,CAAA,KAAM;MAC3B,IAAIV,eAAe,EAAE,OAAO,CAAC;MAC7BC,kBAAkB,CAAC,IAAI,CAAC;MACxBG,YAAY,CAACE,KAAK,CAACE,OAAO,GAAG,CAAC,CAAC,CAAC;;MAEhCC,UAAU,CAAC,MAAM;QACfZ,oBAAoB,CAAEc,SAAS,IAAK,CAACA,SAAS,GAAG,CAAC,IAAIlB,YAAY,CAACU,MAAM,CAAC;QAC1EF,kBAAkB,CAAC,KAAK,CAAC,CAAC,CAAC;MAC7B,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;IACX,CAAC;IAEDG,YAAY,CAACQ,gBAAgB,CAAC,OAAO,EAAEF,cAAc,CAAC;IAEtD,OAAO,MAAM;MACXN,YAAY,CAACS,mBAAmB,CAAC,OAAO,EAAEH,cAAc,CAAC;IAC3D,CAAC;EACH,CAAC,EAAE,CAACd,iBAAiB,EAAEH,YAAY,EAAEO,eAAe,CAAC,CAAC;EAEtD,oBACET,OAAA;IAASuB,SAAS,EAAC,kEAAkE;IAAAC,QAAA,EAClFrB,SAAS,gBACRH,OAAA,CAACF,cAAc;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,GAElB1B,YAAY,IAAIA,YAAY,CAACU,MAAM,GAAG,CAAC,iBACrCZ,OAAA;MACwC;MACtC6B,GAAG,EAAElB,QAAS;MACdY,SAAS,EAAC,6CAA6C;MACvDO,GAAG,EAAE5B,YAAY,CAACG,iBAAiB,CAAE;MACrC0B,QAAQ;MACRC,KAAK;MACLC,WAAW;MACXlB,KAAK,EAAE;QAAEE,OAAO,EAAE,GAAG;QAAED,UAAU,EAAE;MAAe;IAAE,GAP/Cd,YAAY,CAACG,iBAAiB,CAAC;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAQrC;EAEJ;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACM,CAAC;AAEd,CAAC;AAACxB,EAAA,CA3DIH,eAAe;AAAAiC,EAAA,GAAfjC,eAAe;AA6DrB,eAAeA,eAAe;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}