{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sistemas\\\\Pictures\\\\nuevo ole mita web+tienda\\\\src\\\\components\\\\AdminGaleria.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { db } from \"../firebase\";\nimport { collection, getDocs, addDoc, deleteDoc, doc } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminGaleria = () => {\n  _s();\n  const [imagenes, setImagenes] = useState([]);\n  const [titulo, setTitulo] = useState(\"\");\n  const [url, setUrl] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  useEffect(() => {\n    const fetchGaleria = async () => {\n      const querySnapshot = await getDocs(collection(db, \"galeria\"));\n      setImagenes(querySnapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      })));\n    };\n    fetchGaleria();\n  }, []);\n\n  // SOLO POR URL\n  const handleUpload = async () => {\n    if (!url) {\n      alert(\"Pega la URL de la imagen\");\n      return;\n    }\n    setUploading(true);\n    await addDoc(collection(db, \"galeria\"), {\n      url: url.trim(),\n      titulo: titulo.trim()\n    });\n\n    // Refresca galería\n    const querySnapshot = await getDocs(collection(db, \"galeria\"));\n    setImagenes(querySnapshot.docs.map(doc => ({\n      id: doc.id,\n      ...doc.data()\n    })));\n    setTitulo(\"\");\n    setUrl(\"\");\n    setUploading(false);\n  };\n  const handleDelete = async id => {\n    if (window.confirm(\"¿Eliminar imagen?\")) {\n      await deleteDoc(doc(db, \"galeria\", id));\n      setImagenes(imagenes.filter(img => img.id !== id));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold mb-6 text-gray-800 drop-shadow-sm\",\n      children: \"Gestionar Galer\\xEDa Instagram\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-5 rounded-2xl shadow-lg mb-8 flex flex-col md:flex-row items-center gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Pega aqu\\xED la URL de la imagen\",\n        value: url,\n        onChange: e => setUrl(e.target.value),\n        className: \"border border-orange-300 p-3 rounded-xl flex-1 focus:outline-none focus:ring-2 focus:ring-orange-400 text-lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"T\\xEDtulo (opcional)\",\n        value: titulo,\n        onChange: e => setTitulo(e.target.value),\n        className: \"border border-orange-200 p-3 rounded-xl flex-1 focus:outline-none text-lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUpload,\n        className: `bg-gradient-to-r from-orange-500 to-pink-500 text-white px-6 py-3 rounded-xl font-bold shadow-xl hover:scale-105 hover:from-pink-500 hover:to-orange-500 transition-all duration-200 ${uploading ? \"opacity-50 cursor-not-allowed\" : \"\"}`,\n        disabled: uploading,\n        children: uploading ? \"Agregando...\" : \"Agregar Imagen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-7\",\n      children: imagenes.map(img => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative rounded-2xl overflow-hidden shadow-xl group transition-transform duration-300 hover:scale-105 bg-white\",\n        style: {\n          minHeight: 170\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: img.url,\n          alt: img.titulo || \"Imagen Galería\",\n          className: \"object-cover w-full h-44 group-hover:brightness-90 transition-all\",\n          style: {\n            borderRadius: \"1rem 1rem 0 0\"\n          },\n          onError: e => {\n            e.target.src = \"https://i.imgur.com/PMKpT2U.png\";\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this), img.titulo && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent text-white text-center p-2 font-semibold text-md rounded-b-2xl\",\n          children: img.titulo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"absolute top-2 right-2 bg-red-600 text-white rounded-full p-2 opacity-80 hover:opacity-100 shadow-lg transition\",\n          onClick: () => handleDelete(img.id),\n          title: \"Eliminar imagen\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, img.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminGaleria, \"s5fI2kk0yt3yguROqxCzfYjhFGI=\");\n_c = AdminGaleria;\nexport default AdminGaleria;\nvar _c;\n$RefreshReg$(_c, \"AdminGaleria\");","map":{"version":3,"names":["React","useState","useEffect","db","collection","getDocs","addDoc","deleteDoc","doc","jsxDEV","_jsxDEV","AdminGaleria","_s","imagenes","setImagenes","titulo","setTitulo","url","setUrl","uploading","setUploading","fetchGaleria","querySnapshot","docs","map","id","data","handleUpload","alert","trim","handleDelete","window","confirm","filter","img","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","disabled","style","minHeight","src","alt","borderRadius","onError","title","_c","$RefreshReg$"],"sources":["C:/Users/Sistemas/Pictures/nuevo ole mita web+tienda/src/components/AdminGaleria.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { db } from \"../firebase\";\r\nimport { collection, getDocs, addDoc, deleteDoc, doc } from \"firebase/firestore\";\r\n\r\nconst AdminGaleria = () => {\r\n  const [imagenes, setImagenes] = useState([]);\r\n  const [titulo, setTitulo] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchGaleria = async () => {\r\n      const querySnapshot = await getDocs(collection(db, \"galeria\"));\r\n      setImagenes(querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n    };\r\n    fetchGaleria();\r\n  }, []);\r\n\r\n  // SOLO POR URL\r\n  const handleUpload = async () => {\r\n    if (!url) {\r\n      alert(\"Pega la URL de la imagen\");\r\n      return;\r\n    }\r\n    setUploading(true);\r\n    await addDoc(collection(db, \"galeria\"), {\r\n      url: url.trim(),\r\n      titulo: titulo.trim()\r\n    });\r\n\r\n    // Refresca galería\r\n    const querySnapshot = await getDocs(collection(db, \"galeria\"));\r\n    setImagenes(querySnapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));\r\n    setTitulo(\"\");\r\n    setUrl(\"\");\r\n    setUploading(false);\r\n  };\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm(\"¿Eliminar imagen?\")) {\r\n      await deleteDoc(doc(db, \"galeria\", id));\r\n      setImagenes(imagenes.filter(img => img.id !== id));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h2 className=\"text-3xl font-bold mb-6 text-gray-800 drop-shadow-sm\">Gestionar Galería Instagram</h2>\r\n      <div className=\"bg-white p-5 rounded-2xl shadow-lg mb-8 flex flex-col md:flex-row items-center gap-4\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Pega aquí la URL de la imagen\"\r\n          value={url}\r\n          onChange={e => setUrl(e.target.value)}\r\n          className=\"border border-orange-300 p-3 rounded-xl flex-1 focus:outline-none focus:ring-2 focus:ring-orange-400 text-lg\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Título (opcional)\"\r\n          value={titulo}\r\n          onChange={e => setTitulo(e.target.value)}\r\n          className=\"border border-orange-200 p-3 rounded-xl flex-1 focus:outline-none text-lg\"\r\n        />\r\n        <button\r\n          onClick={handleUpload}\r\n          className={`bg-gradient-to-r from-orange-500 to-pink-500 text-white px-6 py-3 rounded-xl font-bold shadow-xl hover:scale-105 hover:from-pink-500 hover:to-orange-500 transition-all duration-200 ${uploading ? \"opacity-50 cursor-not-allowed\" : \"\"}`}\r\n          disabled={uploading}\r\n        >\r\n          {uploading ? \"Agregando...\" : \"Agregar Imagen\"}\r\n        </button>\r\n      </div>\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-7\">\r\n        {imagenes.map(img => (\r\n          <div\r\n            key={img.id}\r\n            className=\"relative rounded-2xl overflow-hidden shadow-xl group transition-transform duration-300 hover:scale-105 bg-white\"\r\n            style={{ minHeight: 170 }}\r\n          >\r\n            <img\r\n              src={img.url}\r\n              alt={img.titulo || \"Imagen Galería\"}\r\n              className=\"object-cover w-full h-44 group-hover:brightness-90 transition-all\"\r\n              style={{ borderRadius: \"1rem 1rem 0 0\" }}\r\n              onError={e => { e.target.src = \"https://i.imgur.com/PMKpT2U.png\"; }}\r\n            />\r\n            {img.titulo && (\r\n              <div className=\"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent text-white text-center p-2 font-semibold text-md rounded-b-2xl\">\r\n                {img.titulo}\r\n              </div>\r\n            )}\r\n            <button\r\n              className=\"absolute top-2 right-2 bg-red-600 text-white rounded-full p-2 opacity-80 hover:opacity-100 shadow-lg transition\"\r\n              onClick={() => handleDelete(img.id)}\r\n              title=\"Eliminar imagen\"\r\n            >\r\n              ×\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminGaleria;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}